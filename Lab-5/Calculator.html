<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="Style.css">
</head>

<body>
    <div class="main">
        <form action="" onsubmit="return false">
            <div class="textbox">
                <input id="ans" type="text" />
            </div>
            <div class="keys">
                <div class="firstrow">
                    <button id="backspace" onclick="back()" value="backspace">âŒ«</button>
                    <button id="c" onclick="result.value=''" value="C">C</button>
                    <button id="modulo" onclick="result.value+='%'" value="%">%</button>
                    <button id="divide" onclick="result.value+='/'" value="/">/</button>
                </div>
                <div class="secondrow">
                    <button id="seven" onclick="result.value+='7'" value="7">7</button>
                    <button id="eight" onclick="result.value+='8'" value="8">8</button>
                    <button id="nine" onclick="result.value+='9'" value="9">9</button>
                    <button id="plus" onclick="result.value+='+'" value="+">+</button>
                </div>
                <div class="thirdrow">
                    <button id="four" onclick="result.value+='4'" value="4">4</button>
                    <button id="five" onclick="result.value+='5'" value="5">5</button>
                    <button id="six" onclick="result.value+='6'" value="6">6</button>
                    <button id="minus" onclick="result.value+='-'" value="-">-</button>
                </div>
                <div class="forthrow">
                    <button id="one" onclick="result.value+='1'" value="1">1</button>
                    <button id="two" onclick="result.value+='2'" value="2">2</button>
                    <button id="three" onclick="result.value+='3'" value="3">3</button>
                    <button id="multiply" onclick="result.value+='*'" value="*">*</button>
                </div>
                <div class="fifthtrow">
                    <button id="zero" onclick="result.value+='0'" value="0">0</button>
                    <button id="doublezero" onclick="result.value+='00'" value="00">00</button>
                    <button id="point" onclick="result.value+='.'" value=".">.</button>
                    <button id="equal" onclick="result.value=last()" value="=">=</button>
                </div>
            </div>
        </form>
    </div>
    <script>
        let result = document.getElementById("ans");

        function back() {
            str = result.value;
            console.log(str.slice(0,str.length-1));
            result.value = str.slice(0,str.length-1);
        }

        function last() {
            console.log(result.value);
            str = result.value;

            if (str.includes("+")) {
                str = str.split("+")
                if (str[0].includes(".") || str[1].includes(".")) {
                    const res = new Number(parseFloat(str[0]) + parseFloat(str[1]));
                    return res.toFixed(2);  
                }
                return (parseInt(str[0]) + parseInt(str[1]));
            }
            else if (str.includes("-")) {
                str = str.split("-")
                if (str[0].includes(".") || str[1].includes(".")) {
                    const res = new Number(parseFloat(str[0]) - parseFloat(str[1]));
                    return res.toFixed(2);
                }
                return (parseInt(str[0]) - parseInt(str[1]));
            }
            else if (str.includes("*")) {
                str = str.split("*")
                if (str[0].includes(".") || str[1].includes(".")) {
                    const res = new Number(parseFloat(str[0]) * parseFloat(str[1]));
                    return res.toFixed(2);
                }
                return (parseInt(str[0]) * parseInt(str[1]));
            }
            else if (str.includes("/")) {
                str = str.split("/")
                if (str[0].includes(".") || str[1].includes(".")) {
                    const res = new Number(parseFloat(str[0]) / parseFloat(str[1]));
                    return res.toFixed(2);
                }
                return (parseInt(str[0]) / parseInt(str[1]));
            }
            else if (str.includes("%")) {
                str = str.split("%")
                if (str[0].includes(".") || str[1].includes(".")) {
                    const res = new Number(parseFloat(str[0]) % parseFloat(str[1]));
                    return res.toFixed(2);
                }
                return (parseInt(str[0]) % parseInt(str[1]));
            }

        }
    </script>
</body>

</html>